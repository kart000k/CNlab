import java.net.*;import java.io.*;import java.util.*;public class UDPServer{public static void main(String args[])throws SocketException,IOException{DatagramSocketserversocket=new DatagramSocket(9902);Scanner sc=new Scanner(System.in);while(true){byte[] receivebuffer=new byte[1024];byte[] sendbuffer=new byte[1024];DatagramPacketrecvdpkt=new DatagramPacket(receivebuffer,receivebuffer.length);serversocket.receive(recvdpkt);InetAddressip=recvdpkt.getAddress();int portno=recvdpkt.getPort();String clientdata= new String(recvdpkt.getData());System.out.println("\n Client: "+clientdata);System.out.println("\n Server:");
String serverdata=sc.nextLine();sendbuffer=serverdata.getBytes();DatagramPacketsendpacket=new DatagramPacket(sendbuffer,sendbuffer.length,ip,portno);serversocket.send(sendpacket);if(serverdata.equalsIgnoreCase("bye")){System.out.println("Connected");break;}}serversocket.close();}}CLIENT :import java.io.*;import java.util.*;import java.net.*;public class UDPClient{public static void main(String args[])throws SocketException,IOException{Scanner sc=new Scanner(System.in);InetAddressip=InetAddress.getByName("localhost");DatagramSocketclientsocket=new DatagramSocket();while(true){byte[] sendbuffer=new byte[1024];byte[] receivebuffer=new byte[1024];System.out.println("\n Client:");
String clientdata=sc.nextLine();sendbuffer=clientdata.getBytes();DatagramPacketsendpacket=new DatagramPacket(sendbuffer,sendbuffer.length,ip,9902);clientsocket.send(sendpacket);if(clientdata.equalsIgnoreCase("bye")){System.out.println("connection end by client");break;}DatagramPacketreceivepacket=new DatagramPacket(receivebuffer,receivebuffer.length);clientsocket.receive(receivepacket);String serverdata=new String(receivepacket.getData());System.out.println("\n Server:"+serverdata);}clientsocket.close();}}
